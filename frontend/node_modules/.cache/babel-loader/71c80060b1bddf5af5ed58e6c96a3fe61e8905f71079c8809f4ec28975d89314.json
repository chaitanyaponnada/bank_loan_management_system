{"ast":null,"code":"import React,{useState}from'react';import'./AddCustomer.css';import Modal from'../Modal/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:3001/api/v1';function AddCustomer(){const[formData,setFormData]=useState({customer_id:'',name:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const[isModalOpen,setIsModalOpen]=useState(false);const[modalInfo,setModalInfo]=useState({title:'',customerId:'',customerName:''});const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const response=await fetch(`${API_URL}/customers`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await response.json();if(!response.ok)throw new Error(data.error||'Failed to add customer.');setModalInfo({title:'Customer Created Successfully',customerId:data.customer_id,customerName:data.name});setIsModalOpen(true);setFormData({customer_id:'',name:''});}catch(err){setError(err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-customer-container\",children:[/*#__PURE__*/_jsx(Modal,{isOpen:isModalOpen,onClose:()=>setIsModalOpen(false),title:modalInfo.title,children:/*#__PURE__*/_jsxs(\"div\",{className:\"customer-details-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"strong\",{children:modalInfo.customerName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Customer ID\"}),/*#__PURE__*/_jsx(\"code\",{children:modalInfo.customerId})]})]})}),/*#__PURE__*/_jsx(\"h2\",{className:\"component-title\",children:\"Add New Customer\"}),/*#__PURE__*/_jsx(\"p\",{className:\"component-subtitle\",children:\"Create a new customer profile in the system.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"component-subtitle\",children:\"*Add the customer first to lend a loan.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"customer_id\",value:formData.customer_id,onChange:handleChange,placeholder:\"Enter a unique Customer ID\",required:true,disabled:loading}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Enter Customer's Full Name\",required:true,disabled:loading}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Creating...':'Add Customer'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]});}export default AddCustomer;","map":{"version":3,"names":["React","useState","Modal","jsx","_jsx","jsxs","_jsxs","API_URL","AddCustomer","formData","setFormData","customer_id","name","error","setError","loading","setLoading","isModalOpen","setIsModalOpen","modalInfo","setModalInfo","title","customerId","customerName","handleChange","e","value","target","prev","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","err","message","className","children","isOpen","onClose","onSubmit","type","onChange","placeholder","required","disabled"],"sources":["C:/Users/chait/OneDrive/Desktop/Projects/bank-loan-management-system/frontend/src/components/AddCustomer/AddCustomer.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './AddCustomer.css';\r\nimport Modal from '../Modal/Modal';\r\n\r\nconst API_URL = 'http://localhost:3001/api/v1';\r\n\r\nfunction AddCustomer() {\r\n    const [formData, setFormData] = useState({ customer_id: '', name: '' });\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [modalInfo, setModalInfo] = useState({ title: '', customerId: '', customerName: '' });\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n        try {\r\n            const response = await fetch(`${API_URL}/customers`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            const data = await response.json();\r\n            if (!response.ok) throw new Error(data.error || 'Failed to add customer.');\r\n\r\n            setModalInfo({\r\n                title: 'Customer Created Successfully',\r\n                customerId: data.customer_id,\r\n                customerName: data.name,\r\n            });\r\n            setIsModalOpen(true);\r\n            setFormData({ customer_id: '', name: '' });\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"add-customer-container\">\r\n            <Modal\r\n                isOpen={isModalOpen}\r\n                onClose={() => setIsModalOpen(false)}\r\n                title={modalInfo.title}\r\n            >\r\n                <div className=\"customer-details-list\">\r\n                    <div className=\"detail-item\">\r\n                        <span>Customer Name</span>\r\n                        <strong>{modalInfo.customerName}</strong>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                        <span>Customer ID</span>\r\n                        <code>{modalInfo.customerId}</code>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n\r\n            <h2 className=\"component-title\">Add New Customer</h2>\r\n            <p className=\"component-subtitle\">Create a new customer profile in the system.</p>\r\n    <p className=\"component-subtitle\">*Add the customer first to lend a loan.</p>\r\n            <form onSubmit={handleSubmit} className=\"form-container\">\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"customer_id\"\r\n                    value={formData.customer_id}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter a unique Customer ID\"\r\n                    required\r\n                    disabled={loading}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter Customer's Full Name\"\r\n                    required\r\n                    disabled={loading}\r\n                />\r\n                <button type=\"submit\" disabled={loading}>\r\n                    {loading ? 'Creating...' : 'Add Customer'}\r\n                </button>\r\n            </form>\r\n\r\n            {error && <p className=\"error\">{error}</p>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddCustomer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,mBAAmB,CAC1B,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,KAAM,CAAAC,OAAO,CAAG,8BAA8B,CAE9C,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACnB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,CAAEU,WAAW,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAAC,CACvE,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACkB,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAC,CAAEoB,KAAK,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAC,CAAC,CAE3F,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CACxB,KAAM,CAAEb,IAAI,CAAEc,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCjB,WAAW,CAAEkB,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAAChB,IAAI,EAAGc,KAAM,CAAC,CAAC,CAAC,CACvD,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBhB,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGzB,OAAO,YAAY,CAAE,CACjD0B,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC5B,QAAQ,CACjC,CAAC,CAAC,CACF,KAAM,CAAA6B,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClC,GAAI,CAACR,QAAQ,CAACS,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAACH,IAAI,CAACzB,KAAK,EAAI,yBAAyB,CAAC,CAE1EO,YAAY,CAAC,CACTC,KAAK,CAAE,+BAA+B,CACtCC,UAAU,CAAEgB,IAAI,CAAC3B,WAAW,CAC5BY,YAAY,CAAEe,IAAI,CAAC1B,IACvB,CAAC,CAAC,CACFM,cAAc,CAAC,IAAI,CAAC,CACpBR,WAAW,CAAC,CAAEC,WAAW,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAAC,CAC9C,CAAE,MAAO8B,GAAG,CAAE,CACV5B,QAAQ,CAAC4B,GAAG,CAACC,OAAO,CAAC,CACzB,CAAC,OAAS,CACN3B,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED,mBACIV,KAAA,QAAKsC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACnCzC,IAAA,CAACF,KAAK,EACF4C,MAAM,CAAE7B,WAAY,CACpB8B,OAAO,CAAEA,CAAA,GAAM7B,cAAc,CAAC,KAAK,CAAE,CACrCG,KAAK,CAAEF,SAAS,CAACE,KAAM,CAAAwB,QAAA,cAEvBvC,KAAA,QAAKsC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClCvC,KAAA,QAAKsC,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBzC,IAAA,SAAAyC,QAAA,CAAM,eAAa,CAAM,CAAC,cAC1BzC,IAAA,WAAAyC,QAAA,CAAS1B,SAAS,CAACI,YAAY,CAAS,CAAC,EACxC,CAAC,cACNjB,KAAA,QAAKsC,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBzC,IAAA,SAAAyC,QAAA,CAAM,aAAW,CAAM,CAAC,cACxBzC,IAAA,SAAAyC,QAAA,CAAO1B,SAAS,CAACG,UAAU,CAAO,CAAC,EAClC,CAAC,EACL,CAAC,CACH,CAAC,cAERlB,IAAA,OAAIwC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACrDzC,IAAA,MAAGwC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,8CAA4C,CAAG,CAAC,cAC1FzC,IAAA,MAAGwC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,yCAAuC,CAAG,CAAC,cACrEvC,KAAA,SAAM0C,QAAQ,CAAEnB,YAAa,CAACe,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACpDzC,IAAA,UACI6C,IAAI,CAAC,MAAM,CACXrC,IAAI,CAAC,aAAa,CAClBc,KAAK,CAAEjB,QAAQ,CAACE,WAAY,CAC5BuC,QAAQ,CAAE1B,YAAa,CACvB2B,WAAW,CAAC,4BAA4B,CACxCC,QAAQ,MACRC,QAAQ,CAAEtC,OAAQ,CACrB,CAAC,cACFX,IAAA,UACI6C,IAAI,CAAC,MAAM,CACXrC,IAAI,CAAC,MAAM,CACXc,KAAK,CAAEjB,QAAQ,CAACG,IAAK,CACrBsC,QAAQ,CAAE1B,YAAa,CACvB2B,WAAW,CAAC,4BAA4B,CACxCC,QAAQ,MACRC,QAAQ,CAAEtC,OAAQ,CACrB,CAAC,cACFX,IAAA,WAAQ6C,IAAI,CAAC,QAAQ,CAACI,QAAQ,CAAEtC,OAAQ,CAAA8B,QAAA,CACnC9B,OAAO,CAAG,aAAa,CAAG,cAAc,CACrC,CAAC,EACP,CAAC,CAENF,KAAK,eAAIT,IAAA,MAAGwC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEhC,KAAK,CAAI,CAAC,EACzC,CAAC,CAEd,CAEA,cAAe,CAAAL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}